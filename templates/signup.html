<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Signup - HIFI Delivery Eats</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    
    <!-- Link Css file -->
    {% block css %}
      <link rel="stylesheet" href="/css/signup.css" />
    {% endblock css %}
</head>
<body>

    <div class="signup-container">
        <h2>HIFI Delivery Eats</h2>

        <form id="signup-form" action='/signup' method="POST">
            <div class="input-group">
                <label for="username"><span>üë§</span>Username</label>
                <input type="text" id="username" name="username" placeholder="Enter your username" required>
            </div>

            <div class="input-group">
                <label for="email"><span>üìß</span>Email</label>
                <input type="email" name="email" id="email" placeholder="Enter your email" required>
                <p class="error" id="email-error"></p>
            </div>

            <div class="input-group">
                <label for="phone"><span>üìû</span>Phone</label>
                <input type="text" name="phone" id="phone" placeholder="Enter your phone number" required>
                <p class="error" id="phone-error"></p>
            </div>

            <div class="input-group">
                <label for="password"><span>üîí</span>Password</label>
                <input type="password" name="password" id="password" placeholder="Enter your password" required>
                <p class="error" id="password-error"></p>
            </div>

            <div class="input-group">
                <label for="address"><span>üè°</span>Address</label>
                <textarea id="address" name="address" rows="2" placeholder="Enter your address" required></textarea>
            </div>

            <button type="submit" class="signup-btn">Sign Up <span>üöÄ</span></button>
            <p class="signup-link">Already have an account?  
                <a href="{{ url_for('login') }}"class="login-btn">Login</a>
            </p>            
        </form>
    </div>

    <script>
        document.getElementById("signup-form").addEventListener("submit", function(event) {
            event.preventDefault(); // Prevent form submission

            let email = document.getElementById("email").value;
            let phone = document.getElementById("phone").value;
            let password = document.getElementById("password").value;
            let emailError = document.getElementById("email-error");
            let phoneError = document.getElementById("phone-error");
            let passwordError = document.getElementById("password-error");

            emailError.innerText = "";
            phoneError.innerText = "";
            passwordError.innerText = "";

            let emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailRegex.test(email)) {
                emailError.innerText = "Invalid email format";
                return;
            }

            if (phone.length !== 10 || isNaN(phone)) {
                phoneError.innerText = "Phone number must be 10 digits";
                return;
            }

            if (password.length < 6) {
                passwordError.innerText = "Password must be at least 6 characters";
                return;
            }

            this.submit();
        });
    </script>

</body>
</html>
