<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HIFI Delivery Eats - Admin Dashboard</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --primary-green: #50b341;
            --light-green: #DCEDC8;
            --white: #ffffff;
            --text-dark: #333333;
        }

        body {
            background-color: var(--white);
            color: var(--text-dark);
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 2rem;
            background-color: var(--white);
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .logo {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--text-dark);
        }

        .nav-menu {
            display: flex;
            gap: 2rem;
        }

        .nav-menu a {
            text-decoration: none;
            color: var(--text-dark);
            padding: 0.5rem 1rem;
            border-radius: 4px;
            transition: background-color 0.3s;
        }

        .nav-menu a:hover, .nav-menu a.active {
            background-color: var(--light-green);
        }

        .container {
            padding: 2rem;
            max-width: 1200px;
            margin: 0 auto;
        }

        .welcome-section {
            text-align: center;
            margin-bottom: 2rem;
        }

        .welcome-section h1 {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }

        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .metric-card {
            background-color: var(--light-green);
            padding: 1.5rem;
            border-radius: 8px;
            text-align: center;
            transition: transform 0.3s;
        }

        .metric-card:hover {
            transform: translateY(-5px);
        }

        .metric-value {
            font-size: 2rem;
            font-weight: bold;
            margin: 0.5rem 0;
            color: var(--primary-green);
        }

        .admin-section {
            background-color: var(--white);
            padding: 2rem;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            margin-bottom: 2rem;
        }

        .chart-container {
            width: 100%;
            height: 300px;
            margin-top: 2rem;
        }

        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 2rem;
        }

        .data-table th, .data-table td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }

        .data-table th {
            background-color: var(--light-green);
            color: var(--text-dark);
        }

        .data-table tr:nth-child(even) {
            background-color: #f2f2f2;
        }

        .data-table tr:hover {
            background-color: #ddd;
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="logo">HIFI Delivery Eats</div>
        <nav class="nav-menu">
            <a href="#" class="active">Dashboard</a>
            <a href="#">Orders</a>
            <a href="#">Users</a>
            <a href="#">Settings</a>
            <a href={{url_for('employee_logout')}}>Logout</a>
        </nav>
    </header>

    <div class="container">
        <section class="welcome-section">
            <h1>Welcome to HIFI Delivery Eats Admin Dashboard!</h1>
            <p>Here's a quick overview of your platform's performance.</p>
        </section>

        <div class="metrics-grid">
            <div class="metric-card">
                <h3>Total Orders</h3>
                <div class="metric-value" id="totalOrders">0</div>
            </div>
            <div class="metric-card">
                <h3>Total Users</h3>
                <div class="metric-value" id="totalUsers">0</div>
            </div>
            <div class="metric-card">
                <h3>Total Sales</h3>
                <div class="metric-value" id="totalSales">$0</div>
            </div>
            <div class="metric-card">
                <h3>New Users</h3>
                <div class="metric-value" id="newUsers">0</div>
            </div>
        </div>

        <section class="admin-section">
            <h2>Sales Overview</h2>
            <div class="chart-container">
                <canvas id="salesChart"></canvas>
            </div>
        </section>

        <section class="admin-section">
            <h2>Recent Orders</h2>
            <table class="data-table" id="recentOrders">
                <thead>
                    <tr>
                        <th>Order ID</th>
                        <th>Customer</th>
                        <th>Items</th>
                        <th>Total</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Order data will be inserted here -->
                </tbody>
            </table>
        </section>
    </div>

    <script>
        // Simulated data updates
        function updateMetrics() {
            const metrics = {
                totalOrders: Math.floor(Math.random() * 1000),
                totalUsers: Math.floor(Math.random() * 500),
                totalSales: Math.floor(Math.random() * 10000),
                newUsers: Math.floor(Math.random() * 50)
            };

            document.getElementById('totalOrders').textContent = metrics.totalOrders;
            document.getElementById('totalUsers').textContent = metrics.totalUsers;
            document.getElementById('totalSales').textContent = `$${metrics.totalSales}`;
            document.getElementById('newUsers').textContent = metrics.newUsers;
        }

        // Update metrics every 5 seconds
        updateMetrics();
        setInterval(updateMetrics, 5000);

        // Add active state to navigation
        document.querySelectorAll('.nav-menu a').forEach(link => {
            link.addEventListener('click', (e) => {
                document.querySelector('.nav-menu a.active')?.classList.remove('active');
                e.target.classList.add('active');
            });
        });

        // Sales Chart
        const ctx = document.getElementById('salesChart').getContext('2d');
        const salesChart = new Chart(ctx, {
            type: 'line',
            data: {
                labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
                datasets: [{
                    label: 'Monthly Sales',
                    data: [12000, 19000, 15000, 25000, 22000, 30000],
                    borderColor: 'rgb(139, 195, 74)',
                    tension: 0.1
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: true,
                        ticks: {
                            callback: function(value, index, values) {
                                return '$' + value;
                            }
                        }
                    }
                }
            }
        });

        // Recent Orders Table
        function generateRandomOrder() {
            const orderId = Math.floor(Math.random() * 1000000);
            const customers = ['John Doe', 'Jane Smith', 'Alice Johnson', 'Bob Brown', 'Emma Wilson'];
            const items = ['Pizza', 'Burger', 'Salad', 'Pasta', 'Sushi'];
            const statuses = ['Delivered', 'In Transit', 'Preparing', 'Cancelled'];

            return {
                id: orderId,
                customer: customers[Math.floor(Math.random() * customers.length)],
                items: `${items[Math.floor(Math.random() * items.length)]}, ${items[Math.floor(Math.random() * items.length)]}`,
                total: `$${(Math.random() * 100).toFixed(2)}`,
                status: statuses[Math.floor(Math.random() * statuses.length)]
            };
        }

        function updateRecentOrders() {
            const tableBody = document.querySelector('#recentOrders tbody');
            tableBody.innerHTML = '';

            for (let i = 0; i < 5; i++) {
                const order = generateRandomOrder();
                const row = `
                    <tr>
                        <td>${order.id}</td>
                        <td>${order.customer}</td>
                        <td>${order.items}</td>
                        <td>${order.total}</td>
                        <td>${order.status}</td>
                    </tr>
                `;
                tableBody.innerHTML += row;
            }
        }

        // Initial update and set interval for recent orders
        updateRecentOrders();
        setInterval(updateRecentOrders, 10000);
    </script>
</body>
</html>