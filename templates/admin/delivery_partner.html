{% extends 'admin/index.html' %} {% block css %} {{ super() }}
<!-- Link to the home-specific CSS file -->
<link
  rel="stylesheet"
  href="{{ url_for('static', filename='css/admin/delivery_partner.css') }}"
/>
{% endblock css %} {% block content %}
<!-- Custom Confirmation Modal -->
<div id="confirmationModal" class="modal">
  <div class="modal-content">
    <p id="modalMessage"></p>
    <div class="modal-actions">
      <button id="confirmBtn" class="confirm-btn">Confirm</button>
      <button id="cancelBtn" class="cancel-btn">Cancel</button>
    </div>
  </div>
</div>

<h2>Delivery Partners</h2>

<div class="table-container">
  <h3>Pending Agents</h3>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>ID</th>
        <th>Email</th>
        <th>Phone</th>
        <th>Delivery Area</th>
        <th>ID Proof</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody id="userList">
      {% for agent in pending_agents %}
      <tr id="user-{{ agent.id }}">
        <td>{{ agent.username }}</td>
        <td>DA{{ agent.id }}</td>
        <td>{{ agent.email }}</td>
        <td>{{ agent.phone }}</td>
        <td>{{ agent.delivery_area }}</td>
        <td>{{ agent.id_proof }}</td>
        <td>
          <button class="accept" onclick="handleAccept({{ agent.id }})">
            Accept
          </button>
          <button class="reject" onclick="handleReject({{ agent.id }})">
            Reject
          </button>
        </td>
      </tr>
      {% else %}
      <tr>
        <td colspan="7">No pending agents.</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>

<div class="table-container">
  <h3>All Delivery Agents</h3>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>ID</th>
        <th>Email</th>
        <th>Phone</th>
        <th>Delivery Area</th>
        <th>ID Proof</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody id="acceptedAgentsList">
      {% for agent in accepted_agents %}
      <tr id="user-{{ agent.id }}">
        <td style="color: {% if not agent.is_active %}red{% else %}green{% endif %};">
          {{ agent.username }}
        </td>
        <td>DA{{ agent.id }}</td>
        <td>{{ agent.email }}</td>
        <td>{{ agent.phone }}</td>
        <td>{{ agent.delivery_area }}</td>
        <td>{{ agent.id_proof }}</td>
        <td>
          {% if agent.is_active %}
          <button class="deactivate" onclick="handleDeactivate({{ agent.id }})">
            Inactive
          </button>
          {% else %}
          <button class="activate" onclick="handleActivate({{ agent.id }})">
            Active
          </button>
          {% endif %}
        </td>
      </tr>
      {% else %}
      <tr>
        <td colspan="7">No accepted agents.</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock content %} {% block scripts %} {{ super() }}
<!-- Link to your admin-specific JavaScript file -->
<script src="{{ url_for('static', filename='js/admin/delivery_partner.js') }}"></script>
{% endblock scripts %}
